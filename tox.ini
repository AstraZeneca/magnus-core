[tox]
skipsdist = True
isolated_build = True
envlist = python3.7, python3.8, mypy


[testenv]
whitelist_externals = poetry
commands =
    poetry install -E docker
    poetry run python -m pytest --cov-report term-missing --cov-report xml:cov.xml  --cov=magnus/ tests/

[testenv:mypy]
whitelist_externals = poetry
commands =
    poetry install -E docker
    poetry run mypy magnus
